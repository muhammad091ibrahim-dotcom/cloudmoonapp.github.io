import"../chunks/Bzak7iHL.js";import"../chunks/Ce5dKaFj.js";import{o as aa}from"../chunks/Bifw0ogz.js";import{R as Ha,j as Ra,ar as Re,a as Y,b as v,p as $t,f as p,t as b,c as xt,u as i,d as s,s as l,r,aE as ga,i as e,m as _,h as a,aZ as Xt,aX as mt,aY as ra,a_ as xa,au as ut,y as Wt,a3 as Za,ap as Ja,aq as Ya}from"../chunks/CJghFkAr.js";import{e as q,s as u,w as Va}from"../chunks/CZfm6YAs.js";import{l as Yt,s as Vt,p as he,i as I}from"../chunks/CGWj7HQ4.js";import{I as Kt,g as Ut,a as ct,r as ua,s as Ne,k as fa,b as Aa,e as sa,i as ia,l as za,t as Ga,p as Ka,h as Sa,q as Xa,d as da,c as Ta}from"../chunks/D9B34gCT.js";import{i as zt}from"../chunks/C4Prtj0h.js";import{a as V,s as Gt}from"../chunks/CY5JQ6QJ.js";import{u as Na,g as er,p as ma,d as pa,s as ha,f as ft,o as tr,t as ot,q as ar,a as ba,r as _a,v as ta,c as ea,b as La}from"../chunks/Do3aPfrO.js";import{t as Ft,a as rr,b as sr,c as ir}from"../chunks/DjefV-tt.js";import{C as Qa,L as lr,Q as nr,k as or,a as cr,F as vr}from"../chunks/Ck6ygmGx.js";import{b as Ma}from"../chunks/CH-FUDQ3.js";import{p as _t}from"../chunks/DQznoU6O.js";import{a as dr}from"../chunks/zYaPGhcH.js";import{g as Ia}from"../chunks/D8zcuini.js";import{D as ur}from"../chunks/JBarizrP.js";function fr(P,m,t){var c=Ha(P,m);c&&c.set&&(P[m]=t,Ra(()=>{P[m]=null}))}function mr(P,m){const t=Yt(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"M12 17V3"}],["path",{d:"m6 11 6 6 6-6"}],["path",{d:"M19 21H5"}]];Kt(P,Vt({name:"arrow-down-to-line"},()=>t,{get iconNode(){return c},children:(n,f)=>{var z=Re(),k=Y(z);Ut(k,m,"default",{}),v(n,z)},$$slots:{default:!0}}))}function Ca(P,m){const t=Yt(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"M20 6 9 17l-5-5"}]];Kt(P,Vt({name:"check"},()=>t,{get iconNode(){return c},children:(n,f)=>{var z=Re(),k=Y(z);Ut(k,m,"default",{}),v(n,z)},$$slots:{default:!0}}))}function Pa(P,m){const t=Yt(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];Kt(P,Vt({name:"clock"},()=>t,{get iconNode(){return c},children:(n,f)=>{var z=Re(),k=Y(z);Ut(k,m,"default",{}),v(n,z)},$$slots:{default:!0}}))}function _r(P,m){const t=Yt(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];Kt(P,Vt({name:"log-out"},()=>t,{get iconNode(){return c},children:(n,f)=>{var z=Re(),k=Y(z);Ut(k,m,"default",{}),v(n,z)},$$slots:{default:!0}}))}function Fa(P,m){const t=Yt(m,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const c=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];Kt(P,Vt({name:"refresh-cw"},()=>t,{get iconNode(){return c},children:(n,f)=>{var z=Re(),k=Y(z);Ut(k,m,"default",{}),v(n,z)},$$slots:{default:!0}}))}var gr=p('<div class="tab-item svelte-84mp85"> </div>'),pr=p('<div class="tab-items svelte-84mp85"><div> </div> <div> </div> <div> </div> <!></div>');function hr(P,m){$t(m,!1);const t=()=>V(Na,"$userLanguage",n),c=()=>V(Ft,"$t",n),[n,f]=Gt();let z=he(m,"selectedTab",12),k=t();function w(we){z(we)}zt();var E=pr(),A=s(E),S=s(A,!0);r(A);var O=l(A,2),C=s(O,!0);r(O);var $=l(O,2),be=s($,!0);r($);var N=l($,2);{var R=we=>{var K=gr(),se=s(K,!0);r(K),b(Qe=>u(se,Qe),[()=>(c(),i(()=>c()("navbar.backup")))]),q("click",K,()=>{window.open("https://github.com/CloudMoonApp/cloudmoon-site-backup","_blank")}),v(we,K)};I(N,we=>{k==="en"&&we(R)})}r(E),b((we,K,se)=>{ct(A,1,`tab-item ${z()==="game"?"on":""}`,"svelte-84mp85"),u(S,we),ct(O,1,`tab-item ${z()==="download"?"on":""}`,"svelte-84mp85"),u(C,K),ct($,1,`tab-item ${z()==="faq"?"on":""}`,"svelte-84mp85"),u(be,se)},[()=>(c(),i(()=>c()("navbar.game"))),()=>(c(),i(()=>c()("navbar.download"))),()=>(c(),i(()=>c()("navbar.faq")))]),q("click",A,()=>w("game")),q("click",O,()=>w("download")),q("click",$,()=>w("faq")),v(P,E),xt(),f()}var br=p('<div class="search svelte-1oa1ajs"><input type="text" class="svelte-1oa1ajs"/> <button class="search-button svelte-1oa1ajs" aria-label="search-button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></button></div>');function wr(P,m){$t(m,!1);const t=()=>V(Ft,"$t",c),[c,n]=Gt();let f=he(m,"searchQuery",12);zt();var z=br(),k=s(z);ua(k),ga(2),r(z),b(w=>Ne(k,"placeholder",` ${w??""}`),[()=>(t(),i(()=>t()("navbar.search")))]),fa(k,f),v(P,z),xt(),n()}const Da=Va(14);var yr=p('<div class="wrapper svelte-16mrl1w"><div class="text svelte-16mrl1w"><!></div></div>');function kt(P,m){$t(m,!1);const t=()=>V(Da,"$globalFontSize",c),[c,n]=Gt();let f=he(m,"minFontSize",8,8),z=he(m,"maxFontSize",8,14),k=_(),w=_();function E(){if(!e(k)||!e(w))return;let C=e(k).clientWidth,$=z();for(Xt(w,e(w).style.fontSize=$+"px"),Xt(w,e(w).style.lineHeight=$+8+"px");e(w).scrollWidth>C&&$>f();)$--,Xt(w,e(w).style.fontSize=$+"px"),Xt(w,e(w).style.lineHeight=$+8+"px");return $}aa(()=>{const C=new ResizeObserver(()=>{const $=E();$&&Da.set($)});return C.observe(e(k)),()=>C.disconnect()}),zt();var A=yr(),S=s(A),O=s(S);Ut(O,m,"default",{}),r(S),Ma(S,C=>a(w,C),()=>e(w)),r(A),Ma(A,C=>a(k,C),()=>e(k)),b(()=>Aa(S,`font-size: ${t()??""}px; line-height: calc(${t()+8}px);`)),v(P,A),xt(),n()}var kr=p('<div class="item-small svelte-4k7gzr"><div style="color: #fff;font-weight: bold"><!></div></div>'),$r=p('<div style="display: flex; align-items: flex-start;flex-direction: column;"><div style="display:flex; align-items:center;gap: 2px;"><!> </div> <div style="display:flex; align-items:center;gap: 2px;"><!> </div></div>'),xr=p('<div style="display: flex; align-items: flex-start;flex-direction: column;"><div style="display:flex; align-items:center;gap: 2px;"><!> </div> <div style="display:flex; align-items:center;gap: 2px;"><!> </div></div>'),zr=p('<div class="item-small svelte-4k7gzr"><div class="item-small-time svelte-4k7gzr"><!></div> <div style="color: #B4C0C9; white-space: nowrap;font-size: 0;">︎ <!></div></div>'),Gr=p('<div class="item-small svelte-4k7gzr"><div class="item-small-time svelte-4k7gzr"><!></div> <div style="color: #B4C0C9;"><!></div></div> <!>',1),Sr=p('<div style="display: flex; align-items: flex-start;flex-direction: column;"><div style="display:flex; align-items:center;gap: 2px;"><!> </div> <div style="display:flex; align-items:center;gap: 2px;"><!> </div></div>'),Tr=p('<div class="item-big svelte-4k7gzr"><div class="item-big-desc svelte-4k7gzr"><div><!></div></div> <div class="item-big-btn svelte-4k7gzr"> </div></div>'),Lr=p("<!> <!>",1),Mr=p('<div class="item-big-btn svelte-4k7gzr"> </div>'),Ir=p('<div class="item-big-desc svelte-4k7gzr"> </div> <div class="item-big-sub-desc svelte-4k7gzr"> </div>',1),Cr=p('<div class="item-big svelte-4k7gzr"><!></div>'),Pr=p('<div class="item-big-desc svelte-4k7gzr"> </div> <div class="item-big-sub-desc svelte-4k7gzr"> </div>',1),Fr=p('<div class="item-big svelte-4k7gzr"><!></div>'),Dr=p('<div class="item-big-desc svelte-4k7gzr"> </div> <div class="item-big-sub-desc svelte-4k7gzr"> </div>',1),Ar=p('<div class="item-big svelte-4k7gzr"><!></div>'),Nr=p("<!> <!> <!>",1),Qr=p('<div class="item-big svelte-4k7gzr"><div><div class="item-big-desc svelte-4k7gzr"><!></div> <div class="item-big-sub-desc svelte-4k7gzr"><!></div></div> <!></div> <!>',1),Wr=p("<option> </option>"),jr=p('<div class="btn svelte-4k7gzr"><!></div>'),Er=p('<div class="pwd-info svelte-4k7gzr"><div><input type="password" class="svelte-4k7gzr"/></div> <div><input type="password" class="svelte-4k7gzr"/></div> <div class="edit svelte-4k7gzr"><div class="btn svelte-4k7gzr"> </div> <div class="btn svelte-4k7gzr" style="background: rgba(123, 108, 196, 1);color: #fff;"> </div></div></div>'),qr=p('<div class="card show svelte-4k7gzr"><div class="card-user svelte-4k7gzr"><div style="display: flex;justify-content: left"><div class="card-avatar svelte-4k7gzr"><img alt="User Avatar" class="svelte-4k7gzr"/></div> <div class="user-info svelte-4k7gzr"><p style="font-size:1.5rem;"> </p> <div style="font-size:0.95rem;color: rgba(180, 192, 201, 1);display: flex;align-items: center"> <div style="margin-left: 5px;height: 1.2rem;cursor: pointer;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16" fill="none"><g opacity="1" transform="translate(0 0)  rotate(0 8 8)"><path id="copy_svg" fill-rule="evenodd" fill="currentColor" transform="translate(1.5 0.5)  rotate(0 6.5 7.5)" opacity="1" d="M3 11L3 3L9 3L9 1L1 1L1 11L3 11Z M10 0L0 0L0 12L3 12L3 15L13 15L13 3L10 3L10 0Z M12 14L12 4L4 4L4 14L12 14Z "></path></g></svg></div></div></div></div></div> <div class="card-item-small svelte-4k7gzr"><!></div> <div class="card-item-big svelte-4k7gzr"><!></div> <ul class="card-list svelte-4k7gzr"><li style="display: flex;justify-content: space-between" class="svelte-4k7gzr"> <select class="svelte-4k7gzr"><option> </option><option> </option><option> </option><option> </option><option> </option></select></li> <li style="display: flex;justify-content: space-between" class="svelte-4k7gzr"> <select class="svelte-4k7gzr"></select></li> <li style="display: flex;flex-direction: column;padding:1rem 0;" class="svelte-4k7gzr"><div style="width: 100%;display: flex;justify-content: space-between;align-items: center"> <!></div> <!></li> <li style="display: flex;flex-direction: column;padding:1rem 0;" class="svelte-4k7gzr"><div style="width: 100%;display: flex;justify-content: space-between;align-items: center"> <div class="btn svelte-4k7gzr"> </div></div></li> <li style="display:flex;justify-content: center" class="svelte-4k7gzr"><div class="btn svelte-4k7gzr"><!> </div></li></ul></div>'),Or=p('<!> <div class="avatar svelte-4k7gzr"><img alt="User Avatar" class="svelte-4k7gzr"/></div> <!>',1);function Br(P,m){$t(m,!1);const t=()=>V(Ft,"$t",k),c=()=>V(rr,"$locale",k),n=()=>V(pa,"$userData",k),f=()=>V(ma,"$phoneData",k),z=()=>V(sr,"$locales",k),[k,w]=Gt();let E=_(null),A=_(null),S=_(!1),O=_(!1),C=_(!1),$=_(""),be=_("");async function N(){if(e($)!==e(be)){ft(t()("navbar.pwdNotMatch"),null);return}if(e($).length<6||e($).length>24){ft(t()("navbar.pwdLengthErr"),null);return}if(!dr(e($))){ft(t()("navbar.pwdTypeErr"),null);return}let G=await ar(e($));if(!G){ft("network error",null);return}if(G.code===0){ft(t()("navbar.pwdSuccess"),null),a(C,!1),a($,""),a(be,"");return}let y=G.message;ft(y+` (${G.code})`,null)}let R=_(c());function we(G){ot("open_shop_by_"+G);let y="https://shop.cloudmoonapp.com";_t.params.lang&&_t.params.lang!=="en"&&(y=y+`/${_t.params.lang}/shop`);let ue=n().email;ue&&(y=y+`?email=${ue}`),window.open(y,"_blank")}function K(G){const y=G.target.value;if(y==="en"){location.href="/";return}location.href=`/${y}/`}function se(G){navigator.clipboard.writeText(n().user_id).then(()=>{ft(t()("toast.copySuccess"),G)}).catch(y=>{ft(t()("toast.copyFailed"),G,3e3),console.error(y)})}function Qe(G){if(G=e(ce)/1e3/1e3/1e3,G<60)return t()("navbar.less1m");const y=Math.floor(G/86400),ue=Math.floor(G%86400/3600),ke=Math.floor(G%3600/60);let J=[];return y>0&&J.push(`${y} day${y>1?"s":""}`),ue>0&&J.push(`${ue} hour${ue>1?"s":""}`),ke>0&&J.push(`${ke} minute${ke>1?"s":""}`),J.join(" ")}let ye=_("/images/default-avatar.png");function Ze(G){const y=new Image;y.src=G,y.onload=()=>{a(ye,G)},y.onerror=()=>{a(ye,"/images/default-avatar.png")}}let ne=_("0"),F=_(0),Q=_('<span style="font-size:1.05rem;color: #fff;font-weight: 900">0&nbsp;</span>min'),oe=_(0),Z=_(""),g=_(null),ce=_(0),re=_(0),Pe=_(0);const at=["21","22","23","3","4"];aa(()=>{a(ne,localStorage.getItem("selectedServer")||"0"),at.includes(e(ne))||(localStorage.removeItem("selectedServer"),er())});let Me=_(0),Be=_(!0),Je=_(!1),X="",L=_(""),ie=_(!0),Ie=_(!1),ze=_(""),gt=_(""),pt=_(null),jt=_("");function Et(G,y,ue=null){a(L,G),a(ze,""),a(pt,ue),a(ie,!1),a(Ie,!0),a(gt,t()("navbar.confirm")),a(jt,y),a(Je,!0)}function Dt(){Et(t()("navbar.clearLine1"),t()("navbar.clearLine2"),Ht)}async function Ht(){a(Je,!1);let G=await tr();if(G.code===0){ft(t()("navbar.clearSuccess"),null);return}let y=G.message;ft(y+` (${G.code})`,null)}mt(()=>n(),()=>{n().picture&&Ze(n().picture)}),mt(()=>e(ne),()=>{at.includes(e(ne))&&localStorage.setItem("selectedServer",e(ne))}),mt(()=>(e(S),e(O),e(Be),e(Me)),()=>{e(S)||e(O)?(e(Be)&&(a(Me,window.scrollY||document.documentElement.scrollTop),document.body.style.position="fixed",document.body.style.top=`-${e(Me)}px`,document.body.style.left="0",document.body.style.right="0"),a(Be,!1)):(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,e(Me)),a(Be,!0))}),mt(()=>(f(),e(F),e(Q),e(oe),e(Z),e(g)),()=>{ma.subscribe(G=>{if(f().time_left_set!=null&&(e(F)!==f().time_left_set.free_time_sec&&(a(F,f().time_left_set.free_time_sec),a(Q,""),e(F)/3600>1&&a(Q,Math.floor(e(F)/3600)+"h"),a(Q,e(Q)+Math.ceil(e(F)%3600/60)+"min"),a(Q,e(Q).replace(/(\d+)/g,'<span style="font-size:1.05rem;color: #fff;font-weight: 900">$1&nbsp;</span>'))),e(oe)!==f().time_left_set.permanent_time_sec&&(a(oe,f().time_left_set.permanent_time_sec),a(Z,""),e(oe)/3600>1&&a(Z,Math.floor(e(oe)/3600)+"h "),a(Z,e(Z)+Math.ceil(e(oe)%3600/60)+"min"),a(Z,e(Z).replace(/(\d+)/g,'<span style="font-size:1.05rem;color: #fff;font-weight: 900">$1&nbsp;</span>')))),f().backup_time!=null&&JSON.stringify(e(g))!==JSON.stringify(f().backup_time)){a(g,f().backup_time);for(const y in e(g))y==="basic_plan"?a(ce,e(g)[y].time):y==="standard_plan"?a(re,e(g)[y].time):y==="diamond"&&a(Pe,e(g)[y].time)}})}),ra(),zt();var x=Or(),We=Y(x);{var rt=G=>{Qa(G,{title:X,get message(){return e(L)},get icon(){return e(ze)},get showClose(){return e(ie)},get showCancel(){return e(Ie)},get buttonText(){return e(gt)},get checkboxText(){return e(jt)},$$events:{close:()=>a(Je,!1),ok:y=>{typeof e(pt)=="function"?e(pt)(y):a(Je,!1)}}})};I(We,G=>{e(Je)&&G(rt)})}var Ge=l(We,2),St=s(Ge);r(Ge);var st=l(Ge,2);{var je=G=>{var y=qr(),ue=s(y),ke=s(ue),J=s(ke),ht=s(J);r(J);var Tt=l(J,2),bt=s(Tt),qt=s(bt,!0);r(bt);var it=l(bt,2),Ke=s(it),Rt=l(Ke);r(it),r(Tt),r(ke),r(ue);var Zt=l(ue,2),la=s(Zt);{var na=D=>{var W=kr(),H=s(W),le=s(H);kt(le,{children:(fe,ae)=>{ga();var me=ut();b(_e=>u(me,_e),[()=>(t(),i(()=>t()("navbar.unlimitedTime")))]),v(fe,me)},$$slots:{default:!0}}),r(H),r(W),v(D,W)},o=D=>{var W=Gr(),H=Y(W),le=s(H),fe=s(le);Sa(fe,()=>e(Q)),r(le);var ae=l(le,2),me=s(ae);kt(me,{children:(Ce,Ue)=>{var Le=$r(),ve=s(Le),ge=s(ve);Pa(ge,{size:12,strokeWidth:2});var $e=l(ge);r(ve);var qe=l(ve,2),et=s(qe);Fa(et,{size:12,strokeWidth:2});var Ye=l(et);r(qe),r(Le),b((De,He)=>{u($e,` ${De??""}`),u(Ye,` ${He??""}`)},[()=>(t(),i(()=>t()("navbar.freeGameTime"))),()=>(t(),i(()=>t()("navbar.resetTime")))]),v(Ce,Le)},$$slots:{default:!0}}),r(ae),r(H);var _e=l(H,2);{var It=Ce=>{var Ue=zr(),Le=s(Ue),ve=s(Le);Sa(ve,()=>e(Z)),r(Le);var ge=l(Le,2),$e=l(s(ge));kt($e,{children:(qe,et)=>{var Ye=xr(),De=s(Ye),He=s(De);Pa(He,{size:12,strokeWidth:2});var xe=l(He);r(De);var j=l(De,2),pe=s(j);Fa(pe,{size:12,strokeWidth:2});var Oe=l(pe);r(j),r(Ye),b((Ct,Ae)=>{u(xe,` ${Ct??""}`),u(Oe,` ${Ae??""}`)},[()=>(t(),i(()=>t()("navbar.hourlyPackage"))),()=>(t(),i(()=>t()("navbar.willNotReset")))]),v(qe,Ye)},$$slots:{default:!0}}),r(ge),r(Ue),v(Ce,Ue)};I(_e,Ce=>{e(oe)>0&&Ce(It)})}v(D,W)};I(la,D=>{f(),i(()=>f().use_time_type===1)?D(na):D(o,!1)})}r(Zt);var d=l(Zt,2),T=s(d);{var M=D=>{var W=Tr(),H=s(W),le=s(H),fe=s(le);kt(fe,{children:(_e,It)=>{var Ce=Sr(),Ue=s(Ce),Le=s(Ue);Ca(Le,{size:20,style:"color:#61b35c"});var ve=l(Le);r(Ue);var ge=l(Ue,2),$e=s(ge);Ca($e,{size:20,style:"color:#61b35c"});var qe=l($e);r(ge),r(Ce),b((et,Ye)=>{u(ve,` ${et??""}`),u(qe,` ${Ye??""}`)},[()=>(t(),i(()=>t()("navbar.unlimitedTime"))),()=>(t(),i(()=>t()("navbar.allGame")))]),v(_e,Ce)},$$slots:{default:!0}}),r(le),r(H);var ae=l(H,2),me=s(ae,!0);r(ae),r(W),b(_e=>u(me,_e),[()=>(t(),i(()=>t()("navbar.buy")))]),q("click",ae,()=>{we("buy")}),v(D,W)},h=D=>{var W=Qr(),H=Y(W),le=s(H),fe=s(le),ae=s(fe);kt(ae,{children:(ve,ge)=>{var $e=Lr(),qe=Y($e);{var et=j=>{var pe=ut();b(Oe=>u(pe,Oe),[()=>(t(),i(()=>t()("navbar.standardPlan")))]),v(j,pe)},Ye=j=>{var pe=Re(),Oe=Y(pe);{var Ct=de=>{var Ve=ut();b(tt=>u(Ve,tt),[()=>(t(),i(()=>t()("navbar.premiumPlan")))]),v(de,Ve)},Ae=de=>{var Ve=Re(),tt=Y(Ve);{var Nt=yt=>{var Pt=ut();b(Qt=>u(Pt,Qt),[()=>(t(),i(()=>t()("navbar.proPlan")))]),v(yt,Pt)};I(tt,yt=>{f(),i(()=>f().level===3)&&yt(Nt)},!0)}v(de,Ve)};I(Oe,de=>{f(),i(()=>f().level===2)?de(Ct):de(Ae,!1)},!0)}v(j,pe)};I(qe,j=>{f(),i(()=>f().level===1)?j(et):j(Ye,!1)})}var De=l(qe,2);{var He=j=>{var pe=ut();b(Oe=>u(pe,` (${Oe??""})`),[()=>(t(),i(()=>t()("navbar.subscribed")))]),v(j,pe)},xe=j=>{var pe=Re(),Oe=Y(pe);{var Ct=Ae=>{var de=ut();b(Ve=>u(de,` (${Ve??""})`),[()=>(t(),i(()=>t()("navbar.active")))]),v(Ae,de)};I(Oe,Ae=>{(e(ce)>0||e(re)>0||e(Pe)>0)&&Ae(Ct)},!0)}v(j,pe)};I(De,j=>{f(),i(()=>f().is_subscription)?j(He):j(xe,!1)})}v(ve,$e)},$$slots:{default:!0}}),r(fe);var me=l(fe,2),_e=s(me);kt(_e,{children:(ve,ge)=>{var $e=Re(),qe=Y($e);{var et=De=>{var He=ut();b(xe=>u(He,xe),[()=>(t(),i(()=>t()("navbar.manageInApp")))]),v(De,He)},Ye=De=>{var He=ut();b((xe,j)=>u(He,`${xe??""}: ${j??""}`),[()=>(t(),i(()=>t()("navbar.expires"))),()=>(f(),i(()=>new Date(f().expired_at).toLocaleString().replace(/\//g,"-")))]),v(De,He)};I(qe,De=>{f(),i(()=>f().is_subscription)?De(et):De(Ye,!1)})}v(ve,$e)},$$slots:{default:!0}}),r(me),r(le);var It=l(le,2);{var Ce=ve=>{var ge=Mr(),$e=s(ge,!0);r(ge),b(qe=>u($e,qe),[()=>(t(),i(()=>t()("navbar.renew")))]),q("click",ge,()=>{we("renew")}),v(ve,ge)};I(It,ve=>{f(),i(()=>!f().is_subscription)&&ve(Ce)})}r(H);var Ue=l(H,2);{var Le=ve=>{var ge=Nr(),$e=Y(ge);{var qe=xe=>{var j=Cr(),pe=s(j);kt(pe,{children:(Oe,Ct)=>{var Ae=Ir(),de=Y(Ae),Ve=s(de,!0);r(de);var tt=l(de,2),Nt=s(tt);r(tt),b((yt,Pt,Qt)=>{u(Ve,yt),u(Nt,`${Pt??""}: ${Qt??""}`)},[()=>(t(),i(()=>t()("navbar.standardPlan"))),()=>(t(),i(()=>t()("navbar.remaining"))),()=>(e(ce),i(()=>Qe(e(ce))))]),v(Oe,Ae)},$$slots:{default:!0}}),r(j),v(xe,j)};I($e,xe=>{e(ce)>0&&xe(qe)})}var et=l($e,2);{var Ye=xe=>{var j=Fr(),pe=s(j);kt(pe,{children:(Oe,Ct)=>{var Ae=Pr(),de=Y(Ae),Ve=s(de,!0);r(de);var tt=l(de,2),Nt=s(tt);r(tt),b((yt,Pt,Qt)=>{u(Ve,yt),u(Nt,`${Pt??""}: ${Qt??""}`)},[()=>(t(),i(()=>t()("navbar.premiumPlan"))),()=>(t(),i(()=>t()("navbar.remaining"))),()=>(e(re),i(()=>Qe(e(re))))]),v(Oe,Ae)},$$slots:{default:!0}}),r(j),v(xe,j)};I(et,xe=>{e(re)>0&&xe(Ye)})}var De=l(et,2);{var He=xe=>{var j=Ar(),pe=s(j);kt(pe,{children:(Oe,Ct)=>{var Ae=Dr(),de=Y(Ae),Ve=s(de,!0);r(de);var tt=l(de,2),Nt=s(tt);r(tt),b((yt,Pt,Qt)=>{u(Ve,yt),u(Nt,`${Pt??""}: ${Qt??""}`)},[()=>(t(),i(()=>t()("navbar.proPlan"))),()=>(t(),i(()=>t()("navbar.remaining"))),()=>(e(Pe),i(()=>Qe(e(Pe))))]),v(Oe,Ae)},$$slots:{default:!0}}),r(j),v(xe,j)};I(De,xe=>{e(Pe)>0&&xe(He)})}v(ve,ge)};I(Ue,ve=>{f(),i(()=>!f().is_subscription)&&ve(Le)})}v(D,W)};I(T,D=>{f(),i(()=>f().use_time_type!==1)?D(M):D(h,!1)})}r(d);var ee=l(d,2),te=s(ee),Xe=s(te),Se=l(Xe);b(()=>{e(ne),xa(()=>{t()})});var Te=s(Se),B=s(Te,!0);r(Te),Te.value=Te.__value="21";var Ee=l(Te),vt=s(Ee,!0);r(Ee),Ee.value=Ee.__value="22";var lt=l(Ee),U=s(lt,!0);r(lt),lt.value=lt.__value="23";var Fe=l(lt),Lt=s(Fe,!0);r(Fe),Fe.value=Fe.__value="3";var dt=l(Fe),Ot=s(dt,!0);r(dt),dt.value=dt.__value="4",r(Se),r(te);var wt=l(te,2),Bt=s(wt),nt=l(Bt);b(()=>{e(R),xa(()=>{z(),t()})}),sa(nt,5,z,ia,(D,W)=>{var H=Wr(),le=s(H,!0);r(H);var fe={};b(ae=>{u(le,ae),fe!==(fe=e(W))&&(H.value=(H.__value=e(W))??"")},[()=>(t(),e(W),i(()=>t()(`lang.${e(W)}`)))]),v(D,H)}),r(nt),r(wt);var Jt=l(wt,2),At=s(Jt),Mt=s(At),ja=l(Mt);{var Ea=D=>{var W=jr(),H=s(W);{var le=ae=>{var me=ut();b(_e=>u(me,_e),[()=>(t(),i(()=>t()("navbar.passwordChange")))]),v(ae,me)},fe=ae=>{var me=ut();b(_e=>u(me,_e),[()=>(t(),i(()=>t()("navbar.passwordSetUp")))]),v(ae,me)};I(H,ae=>{n(),i(()=>n().is_set_pwd)?ae(le):ae(fe,!1)})}r(W),q("click",W,()=>{a(C,!0)}),v(D,W)};I(ja,D=>{e(C)||D(Ea)})}r(At);var qa=l(At,2);{var Oa=D=>{var W=Er(),H=s(W),le=s(H);ua(le),r(H);var fe=l(H,2),ae=s(fe);ua(ae),r(fe);var me=l(fe,2),_e=s(me),It=s(_e,!0);r(_e);var Ce=l(_e,2),Ue=s(Ce,!0);r(Ce),r(me),r(W),b((Le,ve,ge,$e)=>{Ne(le,"placeholder",Le),Ne(ae,"placeholder",ve),u(It,ge),u(Ue,$e)},[()=>(t(),i(()=>t()("navbar.enterNewPwd"))),()=>(t(),i(()=>t()("navbar.confirmPwd"))),()=>(t(),i(()=>t()("alert.cancel"))),()=>(t(),i(()=>t()("navbar.passwordSave")))]),fa(le,()=>e($),Le=>a($,Le)),fa(ae,()=>e(be),Le=>a(be,Le)),q("click",_e,()=>{a(C,!1)}),q("click",Ce,()=>{N()}),Ga(3,W,()=>Xa),v(D,W)};I(qa,D=>{e(C)&&D(Oa)})}r(Jt);var oa=l(Jt,2),wa=s(oa),ya=s(wa),ca=l(ya),Ba=s(ca,!0);r(ca),r(wa),r(oa);var ka=l(oa,2),va=s(ka),$a=s(va);_r($a,{size:14,strokeWidth:2,style:"margin-right: 5px"});var Ua=l($a);r(va),r(ka),r(ee),r(y),b((D,W,H,le,fe,ae,me,_e,It,Ce,Ue)=>{Ne(ht,"src",e(ye)),u(qt,(n(),i(()=>n().name))),u(Ke,`ID: ${n(),i(()=>n().user_id)??""} `),u(Xe,`${D??""} `),u(B,W),u(vt,H),u(U,le),u(Lt,fe),u(Ot,ae),u(Bt,`${me??""} `),u(Mt,`${_e??""} `),u(ya,`${It??""} `),u(Ba,Ce),u(Ua,` ${Ue??""}`)},[()=>(t(),i(()=>t()("server.select"))),()=>(t(),i(()=>t()("server.southAmerica"))),()=>(t(),i(()=>t()("server.usWest"))),()=>(t(),i(()=>t()("server.usEast"))),()=>(t(),i(()=>t()("server.asia"))),()=>(t(),i(()=>t()("server.europe"))),()=>(t(),i(()=>t()("navbar.language"))),()=>(t(),i(()=>t()("navbar.password"))),()=>(t(),i(()=>t()("navbar.clearAllGameCache"))),()=>(t(),i(()=>t()("navbar.clear"))),()=>(t(),i(()=>t()("login.signOut")))]),q("click",Rt,D=>{se(D)}),za(Se,()=>e(ne),D=>a(ne,D)),za(nt,()=>e(R),D=>a(R,D)),q("change",nt,K),q("click",ca,()=>{Dt()}),q("click",va,()=>ha.set(!0)),q("mouseenter",y,()=>{clearTimeout(e(A)),a(O,!0)}),q("mouseleave",y,()=>{a(A,setTimeout(()=>{a(O,!1)},500))}),Ga(3,y,()=>Ka,()=>({duration:300})),v(G,y)};I(st,G=>{(e(S)||e(O))&&G(je)})}b(()=>Ne(St,"src",e(ye))),q("mouseenter",Ge,()=>{clearTimeout(e(E)),a(S,!0)}),q("mouseleave",Ge,()=>{a(E,setTimeout(()=>{a(S,!1)},500))}),q("click",Ge,()=>{e(S)?(a(O,!1),a(S,!1)):(clearTimeout(e(A)),clearTimeout(e(E)),a(S,!0))}),v(P,x),xt(),w()}var Ur=p('<div class="get-free-time svelte-wj81i5"><img class="get-free-time-icon svelte-wj81i5" src="/images/gift_icon.png" alt="CloudMoon"/> <a href="https://discord.gg/AG9HzE8xZ2" target="_blank" class="svelte-wj81i5"><img src="/images/discord_icon_white.png" width="20px" height="16px" style="margin-right: 7px;" class="svelte-wj81i5"/> </a></div>');function Wa(P,m){$t(m,!1);const t=()=>V(Ft,"$t",c),[c,n]=Gt();zt();var f=Ur(),z=l(s(f),2),k=l(s(z),1,!0);r(z),r(f),b(w=>u(k,w),[()=>t()("navbar.getFreeTime")]),v(P,f),xt(),n()}var Hr=p('<button class="sign-in svelte-rfuq4y"> </button>'),Rr=p('<nav class="navbar svelte-rfuq4y"><div class="navbar-body svelte-rfuq4y"><div class="nav-left svelte-rfuq4y"><button class="menu-button svelte-rfuq4y"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button> <!> <!></div> <div class="nav-center svelte-rfuq4y"><!></div> <div class="nav-right svelte-rfuq4y"><div class="get-free-time svelte-rfuq4y"><!></div> <!></div></div></nav>');function Zr(P,m){$t(m,!1);const t=()=>V(ba,"$user",n),c=()=>V(Ft,"$t",n),[n,f]=Gt();let z=he(m,"searchQuery",12,""),k=he(m,"selectedGameFilter",8),w=he(m,"selectedTab",12),E=he(m,"onToggleSidebar",8,()=>{});zt();var A=Rr(),S=s(A),O=s(S),C=s(O),$=l(C,2);lr($,{});var be=l($,2);hr(be,{get selectedTab(){return w()},set selectedTab(F){w(F)},$$legacy:!0}),r(O);var N=l(O,2),R=s(N);{var we=F=>{wr(F,{get searchQuery(){return z()},set searchQuery(Q){z(Q)},$$legacy:!0})};I(R,F=>{k()==="all"&&F(we)})}r(N);var K=l(N,2),se=s(K),Qe=s(se);Wa(Qe,{}),r(se);var ye=l(se,2);{var Ze=F=>{Br(F,{})},ne=F=>{var Q=Hr(),oe=s(Q,!0);r(Q),b(Z=>u(oe,Z),[()=>(c(),i(()=>c()("navbar.signIn")))]),q("click",Q,()=>ha.set(!0)),v(F,Q)};I(ye,F=>{t(),i(()=>t()&&t().token)?F(Ze):F(ne,!1)})}r(K),r(S),r(A),q("click",C,function(...F){var Q;(Q=E())==null||Q.apply(this,F)}),v(P,A),xt(),f()}var Jr=p("<button> </button>"),Yr=p('<div class="mobile-store svelte-129hoe0" style="background: #4B5563;"> </div>'),Vr=p('<aside><div class="sidebar-body svelte-129hoe0"></div> <div class="sidebar-footer svelte-129hoe0"><div class="store svelte-129hoe0" style="background: #3B5998;"> </div> <div class="store svelte-129hoe0" style="background: #7289DA;"><div class="store-tag svelte-129hoe0"><div class="store-tag-body svelte-129hoe0"> </div></div> </div> <!> <div class="gift-btn svelte-129hoe0"><!></div></div></aside>');function Kr(P,m){$t(m,!1);const t=()=>V(Na,"$userLanguage",w),c=()=>V(Ft,"$t",w),n=()=>V(ba,"$user",w),f=()=>V(_a,"$gameStore",w),z=()=>V(pa,"$userData",w),k=()=>V(ta,"$reloadGameData",w),[w,E]=Gt(),A=_();let S=he(m,"selectedGameFilter",12),O=he(m,"isSidebarOpen",12,!1),C=he(m,"hasNewGames",8),$=he(m,"windowWidth",8),be=he(m,"hasMobileGames",8),N=he(m,"hasPcGames",8),R=t();const we=[{id:"all",title:c()("sidebar.allGames")}];function K({hasNewGames:X,hasMobileGames:L,hasPcGames:ie,hasToken:Ie}){const ze=[...we];return Ie?(ze.push({id:"recent",title:c()("sidebar.recentlyPlayed")}),X&&ze.push({id:"new",title:c()("sidebar.newReleases")}),ze.push({id:"recommend",title:c()("sidebar.recommend")})):(L&&ze.push({id:"mobile",title:c()("sidebar.mobileGames")}),ie&&ze.push({id:"pc",title:c()("sidebar.pcGames")}),X&&ze.push({id:"new",title:c()("sidebar.newReleases")})),ze}function se(){$()<=768&&O(!1)}function Qe(X){ot(`open_${X}_by_store`);let L="https://shop.cloudmoonapp.com";_t.params.lang&&_t.params.lang!=="en"?L=L+`/${_t.params.lang}/${X}`:L=L+`/${X}`;let ie=z().email;ie&&(L=L+`?email=${ie}`),window.open(L,"_blank")}mt(()=>(Wt(C()),Wt(be()),Wt(N()),n()),()=>{a(A,K({hasNewGames:C(),hasMobileGames:be(),hasPcGames:N(),hasToken:!!n().token}))}),mt(()=>(f(),Wt(S())),()=>{f()&&f().selectedGameFilter!==S()&&S(f().selectedGameFilter)}),ra(),zt();var ye=Vr();let Ze;var ne=s(ye);sa(ne,5,()=>e(A),ia,(X,L)=>{var ie=Jr();let Ie;var ze=s(ie,!0);r(ie),b(gt=>{Ie=ct(ie,1,"svelte-129hoe0",null,Ie,gt),u(ze,(e(L),i(()=>e(L).title)))},[()=>({active:S()===e(L).id})]),q("click",ie,()=>{S(e(L).id),_a.set({selectedGameFilter:S()}),e(L).id==="all"&&(k()||ta.set(!0)),window.scrollTo(0,0),se()}),v(X,ie)}),r(ne);var F=l(ne,2),Q=s(F),oe=s(Q);r(Q);var Z=l(Q,2),g=s(Z),ce=s(g),re=s(ce,!0);r(ce),r(g);var Pe=l(g);r(Z);var at=l(Z,2);{var Me=X=>{var L=Yr(),ie=s(L,!0);r(L),b(Ie=>u(ie,Ie),[()=>(c(),i(()=>c()("navbar.backup")))]),q("click",L,()=>{window.open("https://github.com/CloudMoonApp/cloudmoon-site-backup","_blank")}),v(X,L)};I(at,X=>{R==="en"&&X(Me)})}var Be=l(at,2),Je=s(Be);Wa(Je,{}),r(Be),r(F),r(ye),b((X,L,ie,Ie,ze)=>{Ze=ct(ye,1,"sidebar svelte-129hoe0",null,Ze,X),u(oe,`CloudMoon ${L??""}`),u(re,ie),u(Pe,` ${Ie??""} ${ze??""}`)},[()=>({open:O()}),()=>(c(),i(()=>c()("sidebar.store"))),()=>(c(),i(()=>c()("sidebar.gameStoreTag"))),()=>(c(),i(()=>c()("navbar.game"))),()=>(c(),i(()=>c()("sidebar.store")))]),q("click",Q,()=>{Qe("shop")}),q("click",Z,()=>{Qe("game")}),v(P,ye),xt(),E()}var Xr=p('<div class="loading-wrapper svelte-1rf55k2"><div class="loading-container svelte-1rf55k2"><div class="loading-spinner svelte-1rf55k2"></div> <p class="svelte-1rf55k2"> </p></div></div>'),es=p('<div class="error-wrapper svelte-1rf55k2"><div class="error-container svelte-1rf55k2"><p class="svelte-1rf55k2"> </p> <button class="retry-button svelte-1rf55k2"> </button></div></div>'),ts=p('<img loading="lazy" class="svelte-1rf55k2"/>'),as=p('<div><div class="game-icon svelte-1rf55k2"><!></div> <h3 class="game-title svelte-1rf55k2"> </h3> <button class="play-button svelte-1rf55k2"> </button></div>'),rs=p('<div class="no-results svelte-1rf55k2"><p class="svelte-1rf55k2"> </p> <p class="suggestion svelte-1rf55k2"> </p></div>'),ss=p('<div class="feedback-section svelte-1rf55k2"><div class="feedback-content svelte-1rf55k2"><img src="/images/controller.png" alt="Game Controller" class="controller-icon svelte-1rf55k2"/> <p class="svelte-1rf55k2"> </p> <div class="social-links svelte-1rf55k2"><a href="https://discord.gg/AG9HzE8xZ2" target="_blank" rel="noopener noreferrer" class="social-button discord svelte-1rf55k2"><img src="/images/discord.png" alt="Discord" class="svelte-1rf55k2"/></a> <a href="https://www.reddit.com/r/CloudMoon/" target="_blank" rel="noopener noreferrer" class="social-button reddit svelte-1rf55k2"><img src="/images/reddit.png" alt="Reddit" class="svelte-1rf55k2"/></a> <a href="https://www.facebook.com/profile.php?id=61564352170031" target="_blank" rel="noopener noreferrer" class="social-button facebook svelte-1rf55k2"><img src="/images/facebook.png" alt="Facebook" class="svelte-1rf55k2"/></a></div></div></div>'),is=p('<main class="game-grid svelte-1rf55k2"><!> <!> <!> <!></main>');function ls(P,m){$t(m,!1);const t=()=>V(ba,"$user",k),c=()=>V(ta,"$reloadGameData",k),n=()=>V(Ft,"$t",k),f=()=>V(ma,"$phoneData",k),z=()=>V(pa,"$userData",k),[k,w]=Gt();let E=he(m,"selectedGameFilter",8),A=he(m,"hasNewGames",12),S=he(m,"hasMobileGames",12),O=he(m,"hasPcGames",12),C=he(m,"columns",8),$=he(m,"searchQuery",8,"");const be=336*60*60*1e3;let N=_([]),R=_([]),we=_(null),K=_(!1),se=_(!1),Qe=_(""),ye=_(""),Ze=_(!0),ne=_(!1),F=_(""),Q=_(""),oe=_(null),Z=_(!1),g=_(null),ce=null,re=null,Pe=_(10),at="",Me=_(!1),Be=_(!1),Je=!1,X=_();aa(()=>{});function L(){return e(N).filter(o=>o.status===2||o.status===3?!1:$()?o.title.toLowerCase().includes($().toLowerCase()):!0)}async function ie(){var o;a(K,!0);try{let d=localStorage.getItem("selectedServer")||0,T=parseInt(d),M="/game/record?select_server=sgp";T===2?M="/game/record?select_server=us":T===4&&(M="/game/record?select_server=eu");const ee=await(await ea(M)).json();if(ee.code===0&&((o=ee.data)!=null&&o.list))return ee.data.list.map(te=>({id:te.package_name,title:te.title,image:te.icon_url,status:te.status,is_high:te.is_high||!1,disabled:te.status!==1,is_pc:te.is_pc||!1}))}catch(d){console.error("Error fetching recent games:",d),je("Error",n()("games.failedFetchRecent"))}finally{a(K,!1)}return[]}async function Ie(){var o;a(K,!0);try{const M=await(await ea("/game/recommend")).json();if(M.code===0&&((o=M.data)!=null&&o.list))return M.data.list.map(h=>({id:h.package_name,title:h.title,image:h.icon_url,status:h.status,is_high:h.is_high||!1,disabled:h.status!==1,is_pc:h.is_pc||!1}))}catch(d){console.error("Error fetching recommend games:",d),je("Error",n()("games.failedFetchRecommend"))}finally{a(K,!1)}return[]}function ze(){const o=new Date;return e(N).filter(d=>{if(d.status!==1||!d.release_at)return!1;const T=new Date(d.release_at),M=o-T;return M>=0&&M<=be})}function gt(){return e(N).filter(o=>o.is_high&&o.status!==2&&o.status!==3)}function pt(){return e(N).filter(o=>o.status===5)}function jt(){return e(N).filter(o=>o.is_pc&&o.status!==2&&o.status!==3)}function Et(){return e(N).filter(o=>!o.is_pc&&o.status!==2&&o.status!==3)}async function Dt(o){switch(o){case"all":a(R,L());break;case"recent":if(Je){const d=await ie();a(R,d)}break;case"recommend":if(Je){const d=await Ie();a(R,d.slice(0,12))}break;case"new":a(R,ze());break;case"pro":a(R,gt());break;case"pc":a(R,jt());break;case"mobile":a(R,Et());break;case"upcoming":a(R,pt());break}}function Ht(o){switch(o){case 1:return n()("game.play");case 2:return n()("game.unavailable");case 3:return n()("game.testOnly");case 4:return n()("game.maintenance");case 5:return n()("game.comingSoon");default:return n()("game.unavailable")}}async function x(o,d,T,M){var h;if(o===4)je(n()("alert.maintenanceNotice"),`${n()("alert.maintenanceContent",{value:T})}`);else if(o===1)if(!((h=t())!=null&&h.token))ha.set(!0);else{if(f().time_left_sec<=0){da(n()("alert.notice"),n()("alert.noTimeContent"),n()("alert.noTimeBtn"));return}ot("start_game_btn",{game:M});let ee=`${n()("alert.playContent",{value:T})}`;G(ee,d,async()=>{ot("start_game_now",{game:M}),a(se,!1),await rt(d,T,M)})}}function We(){re=setInterval(()=>{Za(Pe,-1),e(Pe)<=0&&(clearInterval(re),re=null,at!==""&&e(Z)&&(ot("launch_game_current_window"),window.location.href=at),a(Me,!0),a(g,{...e(g),canLaunch:!1}))},1e3)}new Date().getTime();async function rt(o,d,T){var M;a(g,{icon:o,title:d,pkgName:T,loading:!0,position:null,waitingTime:null,canLaunch:!1,priorityQueueLength:0,priorityWaitingTime:0}),a(Z,!0),a(Me,!1),a(Pe,10),new Date().getTime();try{const h=await La((M=t())==null?void 0:M.token,T);h.android_instance_id?(a(g,{...e(g),loading:!1,canLaunch:!0,androidInstanceId:h.android_instance_id,coordinatorHost:h.coordinator_host}),We(),e(Z)?Ge(e(g).androidInstanceId,e(g).coordinatorHost,f().android_id,T):(ot("give_up_launch_game_from_connect"),clearInterval(re))):h.position&&h.waiting_time?(a(g,{...e(g),loading:!1,position:h.position,waitingTime:Math.ceil(h.waiting_time/60),priorityQueueLength:h.priority_queue_length,priorityWaitingTime:Math.ceil(h.priority_waiting_time/60)}),St()):(st(),h.err_code===30002?da(n()("alert.notice"),n()("alert.blockFree"),n()("alert.buy")):h.err_code===30003?da(n()("alert.notice"),n()("alert.noTimeContent"),n()("alert.noTimeBtn")):h.err_code===30004?je(n()("alert.pleaseWait"),n()("alert.wait3minute"),n()("alert.gotIt")):je(d,h.message+`(${h.err_code})`))}catch(h){console.error("Error connecting to game:",h),je(n()("alert.error"),n()("alert.failedConnect")),st()}}function Ge(o,d,T,M){var Te;d==="https://coordinator-sgp-cf.prod.nenly.cn"?d="https://coor-sgp.prod.cloudmoonapp.com":d==="https://coordinator-sgp-cf-sp.prod.nenly.cn"?d="https://coor-nl.prod.cloudmoonapp.com":d==="https://coordinator-funplus-va.prod.nenly.cn"&&(d="https://coor-la.prod.cloudmoonapp.com"),ot("launch_game",{game:M});const h=new URLSearchParams({userid:T,game:M,android_instance_id:o,coor_url:d});z().user_id&&h.append("uuid",z().user_id);const te=`${window.location.protocol+"//"+window.location.host+"/run-site/index.html"}?${h.toString()}`,Xe=(Te=navigator==null?void 0:navigator.userActivation)==null?void 0:Te.isActive,Se=window.open(te,"_blank","noopener");at=te,(Se||Xe)&&(ot("launch_game_new_window",{game:M}),re&&(clearInterval(re),re=null),st())}async function St(){ce&&(clearInterval(ce),ce=null),e(Z)&&(ce=setInterval(async()=>{var o;try{const d=await La((o=t())==null?void 0:o.token,e(g).pkgName);d.android_instance_id?(clearInterval(ce),ce=null,a(g,{...e(g),loading:!1,canLaunch:!0,androidInstanceId:d.android_instance_id,coordinatorHost:d.coordinator_host}),We(),Ge(e(g).androidInstanceId,e(g).coordinatorHost,f().android_id,e(g).pkgName)):d.position&&d.waiting_time&&a(g,{...e(g),position:d.position,waitingTime:Math.ceil(d.waiting_time/60),priorityQueueLength:d.priority_queue_length,priorityWaitingTime:Math.ceil(d.priority_waiting_time/60)})}catch(d){console.error("Error checking queue status:",d)}},5e3))}function st(){a(Z,!1),a(g,null),ce&&clearInterval(ce),ce=null,re&&(clearInterval(re),ot("give_up_launch_game_from_res"),re=null)}function je(o,d,T=null){a(Qe,o),a(F,""),a(oe,null),a(ye,d),a(Ze,!0),a(ne,!1),T?a(Q,T):a(Q,"OK"),a(se,!0)}function G(o,d,T=null){a(ye,o),a(F,d),a(oe,T),a(Ze,!1),a(ne,!0),a(Q,n()("game.play")),a(se,!0)}async function y(o){o.status===1&&(ot("game_info",{game:o}),localStorage.setItem("scrollTop",window.scrollY.toString()),_t.params.lang&&_t.params.lang!=="en"?await Ia(`/${_t.params.lang}/game/${o.id}?from=list`,{keepFocus:!0,noScroll:!0}):await Ia(`/game/${o.id}?from=list`,{keepFocus:!0,noScroll:!0}))}async function ue(){var te,Xe;const o=localStorage.getItem("gameListData"),d=localStorage.getItem("scrollTop");o?(a(N,JSON.parse(o)),E()!=="recent"&&await Dt(E()),d&&setTimeout(()=>{window.scrollTo(0,parseInt(d))},100)):a(K,!0),a(Be,!1),localStorage.removeItem("scrollTop"),a(we,null);var T=null;let M=localStorage.getItem("selectedServer")||0,h=parseInt(M),ee="/game/list?select_server=sgp";h===2||h===21||h===22||h===23?ee="/game/list?select_server=us":h===4&&(ee="/game/list?select_server=eu");try{(te=t())!=null&&te.token?T=await ea(ee):T=await ea("/game/guest_list");const Se=await T.json();if(Se.code===0&&((Xe=Se.data)!=null&&Xe.list)){a(N,Se.data.list.map(B=>({id:B.package_name,title:B.title,image:B.icon_url,status:B.status,is_high:B.is_high||!1,release_at:B.released_at,disabled:B.status!==1,is_pc:B.is_pc||!1}))),localStorage.setItem("gameListData",JSON.stringify(e(N)));const Te=new Date;A(e(N).some(B=>{if(!B.release_at)return!1;const Ee=new Date(B.release_at),vt=Te-Ee;return vt>=0&&vt<=be})),O(e(N).some(B=>B.is_pc)),S(e(N).some(B=>!B.is_pc)&&O())}else{const Te=Se.message||"Failed to load games. Please try again later.";je(n()("alert.error"),Te),console.error("Error fetching games:",Te)}}catch(Se){je(n()("alert.error"),"Network error. Please check your connection and try again."),console.error("Error fetching games:",Se)}finally{a(Be,!0),ta.set(!1),a(K,!1),Je=!0,await Dt(E())}}mt(()=>(t(),e(X),c()),()=>{if(t()!=null&&t().init){const o=t().token;o!==e(X)&&(a(X,o),ue())}c()&&ue()}),mt(()=>(e(N),Wt($()),Wt(E())),()=>{(e(N)||$())&&E()==="all"&&a(R,L())}),mt(()=>Wt(E()),()=>{Dt(E())}),ra();var ke={fetchGames:ue};zt();var J=is(),ht=s(J);{var Tt=o=>{var d=Xr(),T=s(d),M=l(s(T),2),h=s(M,!0);r(M),r(T),r(d),b(ee=>u(h,ee),[()=>(n(),i(()=>n()("game.loadingGames")))]),v(o,d)},bt=o=>{var d=Re(),T=Y(d);{var M=ee=>{var te=es(),Xe=s(te),Se=s(Xe),Te=s(Se,!0);r(Se);var B=l(Se,2),Ee=s(B,!0);r(B),r(Xe),r(te),b((vt,lt)=>{u(Te,vt),u(Ee,lt)},[()=>(n(),i(()=>n()("game.failedLoad"))),()=>(n(),i(()=>n()("game.tryAgain")))]),q("click",B,ue),v(ee,te)},h=ee=>{var te=Re(),Xe=Y(te);{var Se=B=>{var Ee=Re(),vt=Y(Ee);sa(vt,1,()=>e(R),ia,(lt,U)=>{var Fe=as();let Lt;var dt=s(Fe),Ot=s(dt);or(Ot,()=>(e(U),i(()=>e(U).image)),At=>{var Mt=ts();b(()=>{Ne(Mt,"src",(e(U),i(()=>e(U).image))),Ne(Mt,"alt",(e(U),i(()=>e(U).title)))}),v(At,Mt)}),r(dt);var wt=l(dt,2),Bt=s(wt,!0);r(wt);var nt=l(wt,2),Jt=s(nt,!0);r(nt),r(Fe),b((At,Mt)=>{Lt=ct(Fe,1,"game-card svelte-1rf55k2",null,Lt,At),Ne(Fe,"data-id",(e(U),i(()=>e(U).id))),u(Bt,(e(U),i(()=>e(U).title))),nt.disabled=(e(U),i(()=>e(U).status!==1&&e(U).status!==4)),u(Jt,Mt)},[()=>({disabled:e(U).disabled,maintenance:e(U).status===4}),()=>(e(U),i(()=>Ht(e(U).status)))]),q("click",nt,Ta(()=>x(e(U).status,e(U).image,e(U).title,e(U).id))),q("click",Fe,Ta(()=>y(e(U)))),v(lt,Fe)}),v(B,Ee)},Te=B=>{var Ee=Re(),vt=Y(Ee);{var lt=U=>{var Fe=rs(),Lt=s(Fe),dt=s(Lt);r(Lt);var Ot=l(Lt,2),wt=s(Ot,!0);r(Ot),r(Fe),b((Bt,nt)=>{u(dt,`${Bt??""} "${$()??""}"`),u(wt,nt)},[()=>(n(),i(()=>n()("game.noMatching"))),()=>(n(),i(()=>n()("game.tryMatching")))]),v(U,Fe)};I(vt,U=>{$()&&U(lt)},!0)}v(B,Ee)};I(Xe,B=>{e(R),i(()=>e(R).length>0)?B(Se):B(Te,!1)},!0)}v(ee,te)};I(T,ee=>{e(we)?ee(M):ee(h,!1)},!0)}v(o,d)};I(ht,o=>{e(K)?o(Tt):o(bt,!1)})}var qt=l(ht,2);{var it=o=>{var d=ss(),T=s(d),M=l(s(T),2),h=s(M,!0);r(M),ga(2),r(T),r(d),b(ee=>u(h,ee),[()=>(n(),i(()=>n()("game.cantFind")))]),v(o,d)};I(qt,o=>{e(Be)&&o(it)})}var Ke=l(qt,2);{var Rt=o=>{Qa(o,{get title(){return e(Qe)},get message(){return e(ye)},get icon(){return e(F)},get showClose(){return e(Ze)},get showCancel(){return e(ne)},get buttonText(){return e(Q)},$$events:{close:()=>a(se,!1),ok:d=>{typeof e(oe)=="function"?e(oe)(d):a(se,!1)}}})};I(Ke,o=>{e(se)&&o(Rt)})}var Zt=l(Ke,2);{var la=o=>{nr(o,{get gameIcon(){return e(g),i(()=>e(g).icon)},get gameTitle(){return e(g),i(()=>e(g).title)},get position(){return e(g),i(()=>e(g).position)},get waitingTime(){return e(g),i(()=>e(g).waitingTime)},get loading(){return e(g),i(()=>e(g).loading)},get canLaunch(){return e(g),i(()=>e(g).canLaunch)},get vipLevel(){return f(),i(()=>f().level)},get priorityQueueLength(){return e(g),i(()=>e(g).priorityQueueLength)},get priorityWaitingTime(){return e(g),i(()=>e(g).priorityWaitingTime)},get countdownSeconds(){return e(Pe)},set countdownSeconds(d){a(Pe,d)},get missedTurn(){return e(Me)},set missedTurn(d){a(Me,d)},$$events:{exitQueue:st,launchGame:()=>{e(g).androidInstanceId&&Ge(e(g).androidInstanceId,e(g).coordinatorHost,f().android_id,e(g).pkgName)},retryQueue:()=>{e(Me)&&rt(e(g).icon,e(g).title,e(g).pkgName)}},$$legacy:!0})};I(Zt,o=>{e(Z)&&e(g)&&o(la)})}r(J),b(()=>Aa(J,`--columns: ${C()??""}`)),v(P,J),fr(m,"fetchGames",ue);var na=xt(ke);return w(),na}var ns=p('<link rel="canonical" href="https://web.cloudmoonapp.com/"/>'),os=p('<link rel="canonical"/>'),cs=p('<link rel="alternate" href="https://web.cloudmoonapp.com/" hreflang="x-default"/> <link rel="alternate" href="https://web.cloudmoonapp.com/"/>',1),vs=p('<link rel="alternate"/>'),ds=p('<meta name="keywords"/> <meta name="description"/> <meta property="og:title"/> <meta property="og:type" content="website"/> <meta property="og:url" content="https://web.cloudmoonapp.com"/> <meta property="og:image" content="https://web.cloudmoonapp.com/favicon.ico"/> <meta property="og:description"/> <meta name="msapplication-TileColor" content="#304051"/> <meta name="theme-color" content="#304051"/> <!> <!>',1),us=p('<div class="overlay svelte-c5vyf9"></div>'),fs=p('<h1 class="sr-only svelte-c5vyf9"> </h1> <div><!> <!> <div><!> <!></div> <div style="padding-top: 200px;"><!></div> <div style="padding-top: 150px;"><!></div> <div class="hidden svelte-c5vyf9" style="position: fixed;display:flex;bottom: 15px;left: 0;width: 100%;justify-content: center;"><div><div class="mobile-download-btn-icon svelte-c5vyf9"><!></div> <div style="margin-right: 10px;line-height: 20px"><div class="mobile-download-btn-text svelte-c5vyf9" style="font-size: 16px;font-weight: bold"> </div> <div class="mobile-download-btn-text svelte-c5vyf9" style="font-size: 13px;"> </div></div></div></div> <!></div>',1);function Is(P,m){$t(m,!1);const t=()=>V(_a,"$gameStore",n),c=()=>V(Ft,"$t",n),[n,f]=Gt(),z=Object.keys(ir),k=_t.data.lang;let w=_(),E=_(),A=_("game"),S=_(!1),O=_(""),C=_("all"),$=_(!1),be=_(!1),N=_(!1);function R(){a(S,!e(S))}function we(){const x="https://play.google.com/store/apps/details?id=com.nianwei.cloudphone&referrer=utm_source%3Dcloudmoonweb%26utm_medium%3Ddownloadcard",We="https://apps.apple.com/us/app/cloudmoon-cloud-gaming/id6736726986",rt=navigator.userAgent||navigator.vendor||window.opera;let Ge=x;/iPad|iPhone|iPod/.test(rt)&&!window.MSStream&&(Ge=We),ot("mobile_download_btn"),window.open(Ge,"_blank")}aa(()=>{a(C,t().selectedGameFilter||"all");const x=()=>{a(w,window.innerWidth)};return window.addEventListener("resize",x),x(),()=>{window.removeEventListener("resize",x)}}),mt(()=>e(w),()=>{e(w)<=375?a(E,2):e(w)<=480?a(E,3):e(w)<=768?(a(E,3),a(A,"game")):e(w)<=1024?a(E,4):e(w)<=1920?a(E,5):a(E,7)}),ra(),zt();var K=fs();Ja(x=>{var We=ds(),rt=Y(We),Ge=l(rt,2),St=l(Ge,2),st=l(St,8),je=l(st,6);{var G=ke=>{var J=ns();v(ke,J)},y=ke=>{var J=os();b(()=>Ne(J,"href",`https://web.cloudmoonapp.com/${k??""}/`)),v(ke,J)};I(je,ke=>{k==="en"?ke(G):ke(y,!1)})}var ue=l(je,2);sa(ue,1,()=>z,ia,(ke,J)=>{var ht=Re(),Tt=Y(ht);{var bt=it=>{var Ke=cs(),Rt=l(Y(Ke),2);b(()=>Ne(Rt,"hreflang",e(J))),v(it,Ke)},qt=it=>{var Ke=vs();b(()=>{Ne(Ke,"href",`https://web.cloudmoonapp.com/${e(J)??""}/`),Ne(Ke,"hreflang",e(J))}),v(it,Ke)};I(Tt,it=>{e(J)==="en"?it(bt):it(qt,!1)})}v(ke,ht)}),b((ke,J,ht,Tt,bt)=>{Ya.title=ke,Ne(rt,"content",J),Ne(Ge,"content",ht),Ne(St,"content",Tt),Ne(st,"content",bt)},[()=>(c(),i(()=>c()("seo.title"))),()=>(c(),i(()=>c()("seo.keywords"))),()=>(c(),i(()=>c()("seo.descriptionMin"))),()=>(c(),i(()=>c()("seo.title"))),()=>(c(),i(()=>c()("seo.descriptionMin")))]),v(x,We)});var se=Y(K),Qe=s(se,!0);r(se);var ye=l(se,2);let Ze;var ne=s(ye);Zr(ne,{onToggleSidebar:R,get searchQuery(){return e(O)},set searchQuery(x){a(O,x)},get selectedGameFilter(){return e(C)},set selectedGameFilter(x){a(C,x)},get selectedTab(){return e(A)},set selectedTab(x){a(A,x)},$$legacy:!0});var F=l(ne,2);{var Q=x=>{var We=us();q("click",We,R),v(x,We)};I(F,x=>{e(S)&&x(Q)})}var oe=l(F,2);let Z;var g=s(oe);Kr(g,{get windowWidth(){return e(w)},get selectedGameFilter(){return e(C)},set selectedGameFilter(x){a(C,x)},get isSidebarOpen(){return e(S)},set isSidebarOpen(x){a(S,x)},get hasNewGames(){return e($)},set hasNewGames(x){a($,x)},get hasPcGames(){return e(be)},set hasPcGames(x){a(be,x)},get hasMobileGames(){return e(N)},set hasMobileGames(x){a(N,x)},$$legacy:!0});var ce=l(g,2);ls(ce,{get columns(){return e(E)},get searchQuery(){return e(O)},get selectedGameFilter(){return e(C)},set selectedGameFilter(x){a(C,x)},get hasNewGames(){return e($)},set hasNewGames(x){a($,x)},get hasPcGames(){return e(be)},set hasPcGames(x){a(be,x)},get hasMobileGames(){return e(N)},set hasMobileGames(x){a(N,x)},$$legacy:!0}),r(oe);var re=l(oe,2);let Pe;var at=s(re);ur(at,{}),r(re);var Me=l(re,2);let Be;var Je=s(Me);cr(Je,{}),r(Me);var X=l(Me,2),L=s(X);let ie;var Ie=s(L),ze=s(Ie);mr(ze,{size:22,strokeWidth:2,style:"padding-top: 1px"}),r(Ie);var gt=l(Ie,2),pt=s(gt),jt=s(pt,!0);r(pt);var Et=l(pt,2),Dt=s(Et,!0);r(Et),r(gt),r(L),r(X);var Ht=l(X,2);vr(Ht,{}),r(ye),b((x,We,rt,Ge,St,st,je,G)=>{u(Qe,x),Ze=ct(ye,1,"app svelte-c5vyf9",null,Ze,We),Z=ct(oe,1,"content svelte-c5vyf9",null,Z,rt),Pe=ct(re,1,"content svelte-c5vyf9",null,Pe,Ge),Be=ct(Me,1,"content svelte-c5vyf9",null,Be,St),ie=ct(L,1,"mobile-download-btn svelte-c5vyf9",null,ie,st),u(jt,je),u(Dt,G)},[()=>(c(),i(()=>c()("seo.descriptionFull"))),()=>({"sidebar-open":e(S)}),()=>({hidden:e(A)!=="game"}),()=>({hidden:e(A)!=="download"}),()=>({hidden:e(A)!=="faq"}),()=>({hidden:e(w)>0}),()=>(c(),i(()=>c()("navbar.download"))),()=>(c(),i(()=>c()("download.btnFreeTime")))]),q("click",L,we),v(P,K),xt(),f()}export{Is as component};
