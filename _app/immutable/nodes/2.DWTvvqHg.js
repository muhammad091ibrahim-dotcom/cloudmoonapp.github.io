import{b as d,l as h}from"../chunks/DjefV-tt.js";import{u as f}from"../chunks/Do3aPfrO.js";import{H as m,R as w}from"../chunks/B88EbFpT.js";import"../chunks/Bzak7iHL.js";import{ar as p,a as L,b as F}from"../chunks/CJghFkAr.js";import{s as v}from"../chunks/Bifw0ogz.js";function u(e,t){throw new m(e,t)}function S(e,t){throw new w(e,t.toString())}const _=!0;async function y({params:e,url:t}){var c;const r=d.get().map(n=>n.toLowerCase());let a=((c=e.lang)==null?void 0:c.toLowerCase())||"en";r.includes(a)||(a="en");const i=async n=>{{const s=`user_lang=${n}; path=/; max-age=31536000`;["localhost","127.0.0.1","::1"].includes(location.hostname)?document.cookie=s:document.cookie=`${s}; domain=.cloudmoonapp.com; Secure; SameSite=None`}f.set(n),await h(n)};if(e&&e.id&&e.id.indexOf("YZGAME")>=0)throw u(404,"Page not found");if(!e.lang){const n=navigator.userAgent;if(/Google/i.test(n))return await i("en"),{lang:"en",loadFinish:!0,showFaq:!1};if(sessionStorage.getItem("navigatorLanguage"))return await i("en"),{lang:"en",loadFinish:!0,showFaq:!0};let o=navigator.language||"en";const l=o.match(/[a-zA-Z]+?(?=-|_|,|;)/);if(o=(l?l[0]:"en").toLowerCase(),sessionStorage.setItem("navigatorLanguage",o),o!=="en"&&r.includes(o)&&!t.pathname.toLowerCase().startsWith(`/${o}`)){await i(o);const g=`/${o}${t.pathname}${t.search}`;throw S(302,g)}return await i("en"),{lang:"en",loadFinish:!0,showFaq:!0}}if(e.lang==="en")throw u(404,"Page not found");return r.includes(a)?(await i(a),{lang:a,loadFinish:!0,showFaq:!0}):(await i("en"),{lang:"en",loadFinish:!0,showFaq:!0})}const A=Object.freeze(Object.defineProperty({__proto__:null,load:y,prerender:_},Symbol.toStringTag,{value:"Module"}));function O(e,t){var r=p(),a=L(r);v(a,()=>t.children),F(e,r)}export{O as component,A as universal};
