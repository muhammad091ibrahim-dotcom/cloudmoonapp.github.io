import"../chunks/Bzak7iHL.js";import"../chunks/Ce5dKaFj.js";import{o as It,a as Kt}from"../chunks/Bifw0ogz.js";import{p as nt,ar as yt,a as W,b as m,c as vt,f as z,d as e,r as a,t as C,h as p,m as et,i as c,aX as Lt,aY as Mt,s as l,u as n,a_ as Qt,au as xt}from"../chunks/CJghFkAr.js";import{i as N,l as Vt,s as Zt,p as te}from"../chunks/CGWj7HQ4.js";import{b as ee,t as At,f as Ct,I as ae,g as zt,c as Et,j as Pt,r as wt,s as kt,k as $t,l as se,m as oe,h as re,n as le}from"../chunks/D9B34gCT.js";import{i as ct}from"../chunks/C4Prtj0h.js";import{s as dt,a as j}from"../chunks/CY5JQ6QJ.js";import{s as v,e as $}from"../chunks/CZfm6YAs.js";import{e as ie,i as ne,a as Tt,f as F,l as ve,g as ce,h as de,t as ue,d as pe,j as fe,k as _e,m as me,s as ht,n as St}from"../chunks/Do3aPfrO.js";import{t as Bt}from"../chunks/DjefV-tt.js";import{v as ge,a as he}from"../chunks/zYaPGhcH.js";import{p as bt}from"../chunks/DQznoU6O.js";const be="always",Xe=Object.freeze(Object.defineProperty({__proto__:null,trailingSlash:be},Symbol.toStringTag,{value:"Module"}));var ye=z('<div id="toast" class="toast svelte-1cpok13"> </div>');function xe(E,g){nt(g,!1);const t=()=>j(ie,"$toastStore",f),[f,S]=dt();ct();var I=yt(),b=W(I);{var d=L=>{var o=ye(),P=e(o,!0);a(o),C(()=>{ee(o,`top: ${t().y+20}px; left: ${t().x??""}px;`),v(P,t().message)}),At(3,o,()=>Ct,()=>({duration:500})),m(L,o)};N(b,L=>{t().show&&L(d)})}m(E,I),vt(),S()}function we(E,g){const t=Vt(g,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.539.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const f=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];ae(E,Zt({name:"arrow-left"},()=>t,{get iconNode(){return f},children:(S,I)=>{var b=yt(),d=W(b);zt(d,g,"default",{}),m(S,b)},$$slots:{default:!0}}))}var ke=z('<h2 class="svelte-1y960i6"> </h2>'),$e=z('<h2 class="svelte-1y960i6"> </h2>'),Se=z('<button class="google-button svelte-1y960i6"> </button>'),Ie=z('<div class="server-select svelte-1y960i6"><select class="svelte-1y960i6"><option> </option><option> </option><option> </option><option> </option><option> </option><option> </option></select></div> <button class="google-button svelte-1y960i6"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: block;" class="svelte-1y960i6"><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></svg> <!></button> <div style="margin-top: 2rem;font-size: 14px;display: flex;justify-content: center;width: 100%;text-align: center;"><div style="color: #fff;"> </div> <div style="color: rgba(42, 130, 228, 1);cursor: pointer;"> </div></div>',1),Le=z('<button class="close-button svelte-1y960i6"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button> <div class="modal-content svelte-1y960i6"><!> <div class="auth-container svelte-1y960i6"><!></div></div>',1),Me=z('<button class="close-button svelte-1y960i6"><!></button> <div class="modal-content svelte-1y960i6" style="gap: 1.5rem;padding:0 2rem;"><div style="color:rgba(180, 192, 201, 1);padding:0 1rem;max-width: min(400px,100%);font-size: 14px;display: flex;gap:0.8rem;flex-direction: column"><div> </div></div> <div class="input-div svelte-1y960i6"><input type="text" class="svelte-1y960i6"/></div> <div class="input-div svelte-1y960i6"><input type="password" class="svelte-1y960i6"/></div> <div class="input-div svelte-1y960i6" style="margin-bottom: 0.5rem;"><button class="google-button svelte-1y960i6" style="background: rgba(123, 108, 196, 1);color: #fff;"> </button></div></div>',1),Ae=z('<div class="modal-overlay svelte-1y960i6"><div class="modal svelte-1y960i6"><!></div></div>');function Ce(E,g){nt(g,!1);const t=()=>j(Bt,"$t",S),f=()=>j(Tt,"$user",S),[S,I]=dt();let b=te(g,"onCloseModal",8,()=>{}),d=et(!1);const L="196443591263-k5447s9icscrq54n57j29lmvm05addbe.apps.googleusercontent.com";let o=et("0");const P=["21","22","23","3","4"];It(async()=>{await ne(L),p(u,!1),p(o,localStorage.getItem("selectedServer")||"0"),P.includes(c(o))||(localStorage.removeItem("selectedServer"),p(o,"0"))});async function H(){if(parseInt(c(o))===0){F(t()("toast.selectServer"),null);return}p(d,!0);try{await de()}catch(s){console.error("Login failed:",s),p(d,!1)}}let u=et(!1);function w(){if(parseInt(c(o))===0){F(t()("toast.selectServer"),null);return}p(u,!0)}let y=et(""),T=et("");async function at(){if(!ge(c(y))){F(t()("navbar.pwdEmailErr"),null);return}if(!he(c(T))){F(t()("navbar.pwdTypeErr"),null);return}p(d,!0);let s=await ve(c(y),c(T));if(!s){F("network error",null),p(d,!1);return}if(s.code===0){p(y,""),p(T,""),b()(),p(d,!1);return}let _=s.message;s.code===40030?_=t()("navbar.pwdNotSet"):s.code===40031?_=t()("navbar.pwdPasswordErr"):s.code===40032&&(_=t()("navbar.pwdNotReg")),p(d,!1),F(_+` (${s.code})`,null)}Lt(()=>c(o),()=>{P.includes(c(o))&&localStorage.setItem("selectedServer",c(o))}),Mt(),ct();var U=Ae(),O=e(U),st=e(O);{var ut=s=>{var _=Le(),M=W(_),q=l(M,2),B=e(q);{var R=i=>{var r=ke(),k=e(r,!0);a(r),C(x=>v(k,x),[()=>(t(),n(()=>t()("login.signOutTitle")))]),m(i,r)},rt=i=>{var r=$e(),k=e(r,!0);a(r),C(x=>v(k,x),[()=>(t(),n(()=>t()("login.signInTitle")))]),m(i,r)};N(B,i=>{f(),n(()=>f().token)?i(R):i(rt,!1)})}var lt=l(B,2),X=e(lt);{var Y=i=>{var r=Se(),k=e(r,!0);a(r),C(x=>v(k,x),[()=>(t(),n(()=>t()("login.signOut")))]),$("click",r,function(...x){var h;(h=ce)==null||h.apply(this,x)}),m(i,r)},J=i=>{var r=Ie(),k=W(r),x=e(k);C(()=>{c(o),Qt(()=>{t()})});var h=e(x),pt=e(h,!0);a(h),h.value=h.__value="0";var D=l(h),ft=e(D,!0);a(D),D.value=D.__value="21";var K=l(D),jt=e(K,!0);a(K),K.value=K.__value="22";var Q=l(K),Ot=e(Q,!0);a(Q),Q.value=Q.__value="23";var V=l(Q),Dt=e(V,!0);a(V),V.value=V.__value="3";var it=l(V),Gt=e(it,!0);a(it),it.value=it.__value="4",a(x),a(k);var Z=l(k,2),Nt=l(e(Z),2);{var Ht=A=>{var G=xt();C(tt=>v(G,tt),[()=>(t(),n(()=>t()("login.loading")))]),m(A,G)},Ut=A=>{var G=xt();C(tt=>v(G,tt),[()=>(t(),n(()=>t()("login.signIn")))]),m(A,G)};N(Nt,A=>{c(d)?A(Ht):A(Ut,!1)})}a(Z);var _t=l(Z,2),mt=e(_t),qt=e(mt);a(mt);var gt=l(mt,2),Ft=e(gt,!0);a(gt),a(_t),C((A,G,tt,Wt,Rt,Xt,Yt,Jt)=>{v(pt,A),v(ft,G),v(jt,tt),v(Ot,Wt),v(Dt,Rt),v(Gt,Xt),Z.disabled=c(d),v(qt,`${Yt??""}Â `),v(Ft,Jt)},[()=>(t(),n(()=>t()("server.select"))),()=>(t(),n(()=>t()("server.southAmerica"))),()=>(t(),n(()=>t()("server.usWest"))),()=>(t(),n(()=>t()("server.usEast"))),()=>(t(),n(()=>t()("server.asia"))),()=>(t(),n(()=>t()("server.europe"))),()=>(t(),n(()=>t()("navbar.cantUetGoogle"))),()=>(t(),n(()=>t()("navbar.pwdSign")))]),se(x,()=>c(o),A=>p(o,A)),$("click",Z,H),$("click",gt,()=>{w()}),$("click",_t,()=>{w()}),m(i,r)};N(X,i=>{f(),n(()=>f().token)?i(Y):i(J,!1)})}a(lt),a(q),$("click",M,function(...i){var r;(r=b())==null||r.apply(this,i)}),m(s,_)},ot=s=>{var _=Me(),M=W(_),q=e(M);we(q,{size:20,strokeWidth:2}),a(M);var B=l(M,2),R=e(B),rt=e(R),lt=e(rt,!0);a(rt),a(R);var X=l(R,2),Y=e(X);wt(Y),a(X);var J=l(X,2),i=e(J);wt(i),a(J);var r=l(J,2),k=e(r),x=e(k,!0);a(k),a(r),a(B),C((h,pt,D,ft)=>{v(lt,h),kt(Y,"placeholder",pt),kt(i,"placeholder",D),v(x,ft)},[()=>(t(),n(()=>t()("navbar.pwdSignLine1"))),()=>(t(),n(()=>t()("navbar.pwdAccount"))),()=>(t(),n(()=>t()("navbar.password"))),()=>(t(),n(()=>t()("navbar.signIn")))]),$("click",M,()=>{p(u,!1)}),$t(Y,()=>c(y),h=>p(y,h)),$t(i,()=>c(T),h=>p(T,h)),$("click",r,()=>{at()}),m(s,_)};N(st,s=>{c(u)?s(ot,!1):s(ut)})}a(O),a(U),$("click",O,Et(function(s){Pt.call(this,g,s)})),$("click",U,function(...s){var _;(_=b())==null||_.apply(this,s)}),m(E,U),vt(),I()}var ze=z('<div class="overlay svelte-1tubmtx"><div class="alert svelte-1tubmtx"><div class="alert-header svelte-1tubmtx"><h2 class="svelte-1tubmtx"> </h2></div> <div class="alert-content svelte-1tubmtx"><p class="svelte-1tubmtx"><!></p></div> <div class="alert-footer svelte-1tubmtx"><button class="close-button svelte-1tubmtx"> </button> <button class="confirm-button svelte-1tubmtx"> </button></div></div></div>');function Ee(E,g){nt(g,!1);const t=()=>j(pe,"$userData",I),f=()=>j(oe,"$buyAlertStore",I),S=()=>j(Bt,"$t",I),[I,b]=dt();function d(){le()}function L(){ue("open_shop_by_alert");let u="https://shop.cloudmoonapp.com",w=t().email;bt.params.lang&&bt.params.lang!=="en"&&(u=u+`/${bt.params.lang}/shop`),w&&(u=u+`?email=${w}`),window.open(u,"_blank")}ct();var o=yt(),P=W(o);{var H=u=>{var w=ze(),y=e(w),T=e(y),at=e(T),U=e(at,!0);a(at),a(T);var O=l(T,2),st=e(O),ut=e(st);re(ut,()=>f().message),a(st),a(O);var ot=l(O,2),s=e(ot),_=e(s,!0);a(s);var M=l(s,2),q=e(M,!0);a(M),a(ot),a(y),a(w),C(B=>{v(U,f().title),v(_,B),v(q,f().btnText)},[()=>S()("alert.cancel")]),$("click",s,d),$("click",M,L),$("click",y,Et(function(B){Pt.call(this,g,B)})),At(3,w,()=>Ct,()=>({duration:200})),m(u,w)};N(P,u=>{f().show&&u(H)})}m(E,o),vt(),b()}var Pe=z('<main class="svelte-12qhfyh"><!> <!> <!> <!></main>');function Ye(E,g){nt(g,!1);const t=()=>j(Tt,"$user",S),f=()=>j(ht,"$showLogin",S),[S,I]=dt();It(()=>{fe()}),Kt(()=>{St()});let b;function d(){t()&&t().token&&b!==t().token?(b=t().token,_e(),me()):St(),ht.set(!1)}Lt(()=>t(),()=>{t()&&t().init&&d()}),Mt(),ct();var L=Pe(),o=e(L);zt(o,g,"default",{});var P=l(o,2);xe(P,{});var H=l(P,2);Ee(H,{});var u=l(H,2);{var w=y=>{Ce(y,{onCloseModal:()=>ht.set(!1)})};N(u,y=>{f()&&y(w)})}a(L),m(E,L),vt(),I()}export{Ye as component,Xe as universal};
